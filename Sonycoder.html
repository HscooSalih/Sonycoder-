<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SonyCoder - Ù…Ø­Ø±Ø± Ø§Ù„Ø£ÙƒÙˆØ§Ø¯</title>

    <!-- Ù…ÙƒØªØ¨Ø© CodeMirror -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/codemirror.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/codemirror.min.js"></script>

    <style>
        /* ØªØºÙŠÙŠØ± Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø¥Ù„Ù‰ Ø§Ù„Ø£Ø¨ÙŠØ¶ ÙˆØ§Ù„Ø£Ø²Ø±Ù‚ */
        body { 
            font-family: Arial, sans-serif; 
            text-align: center; 
            background: #ffffff; /* Ø®Ù„ÙÙŠØ© Ø¨ÙŠØ¶Ø§Ø¡ */
            color: #333; /* Ù„ÙˆÙ† Ø§Ù„Ù†Øµ Ø£Ø³ÙˆØ¯ Ø±Ù…Ø§Ø¯ÙŠ */
            margin: 0; 
            overflow-x: hidden; 
            font-size: 18px; 
        }

        /* ØªØ­Ø³ÙŠÙ† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© */
        .menu {
            background: linear-gradient(90deg, #007bff, #0056b3); /* Ø¯Ø±Ø¬Ø§Øª Ø§Ù„Ø£Ø²Ø±Ù‚ */
            padding: 15px; 
            text-align: left; 
            position: fixed; 
            width: 100%; 
            top: 0; 
            left: -100%; 
            transition: left 0.5s ease-in-out; 
        }

        /* ØªØ­Ø±ÙŠÙƒ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø© */
        body.loaded .menu { left: 0; }

        /* ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø²Ø±Ø§Ø± */
        .menu button, .menu select {
            background: #007bff; /* Ø£Ø²Ø±Ù‚ ÙØ§ØªØ­ */
            color: white;
            border: 2px solid #0056b3; 
            padding: 15px; 
            margin: 5px; 
            cursor: pointer; 
            font-size: 18px;
            border-radius: 10px;
            transition: transform 0.2s, background 0.3s;
        }

        /* ØªØ£Ø«ÙŠØ± Ø¹Ù†Ø¯ ØªÙ…Ø±ÙŠØ± Ø§Ù„Ù…Ø§ÙˆØ³ */
        .menu button:hover {
            transform: scale(1.1);
            background: #0056b3; /* Ø£Ø²Ø±Ù‚ Ø¯Ø§ÙƒÙ† Ø£ÙƒØ«Ø± */
        }

        /* ØªØ­Ø³ÙŠÙ† Ø§Ù„Ù…Ø­Ø±Ø± */
        #editor { 
            width: 90%; 
            height: 400px; 
            border: 2px solid #0056b3; 
            margin: 80px auto 10px; 
            transition: box-shadow 0.3s ease-in-out; 
            font-size: 20px; 
            background: #f8f9fa; /* Ø®Ù„ÙÙŠØ© ÙØ§ØªØ­Ø© */
            color: #333; /* Ù„ÙˆÙ† Ø§Ù„Ù†Øµ Ø¯Ø§ÙƒÙ† */
        }

        #editor:focus { 
            box-shadow: 0 0 15px #007bff; 
        }

        /* ØªØ­Ø³ÙŠÙ† Ø§Ù„Ù…Ø®Ø±Ø¬Ø§Øª */
        .output-box {
            background: #e9ecef; /* Ù„ÙˆÙ† Ø±Ù…Ø§Ø¯ÙŠ ÙØ§ØªØ­ */
            color: #333; /* Ù„ÙˆÙ† Ø¯Ø§ÙƒÙ† */
            padding: 15px; 
            border-radius: 10px; 
            min-height: 120px; 
            text-align: left; 
            font-size: 18px;
            transition: transform 0.3s ease-in-out;
        }

        /* ØªØ£Ø«ÙŠØ± Ø¹Ù†Ø¯ Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ */
        .output-box.show { transform: scale(1.05); }
    </style>
</head>
<body class="loaded">

    <div class="menu">
        <button onclick="runCode()">â–¶ ØªØ´ØºÙŠÙ„</button>
        <button onclick="saveFile()">ğŸ’¾ Ø­ÙØ¸ ÙƒÙ€ Ù…Ù„Ù</button>
        <button onclick="newFile()">ğŸ“„ Ù…Ù„Ù Ø¬Ø¯ÙŠØ¯</button>
        <button onclick="toggleFullScreen()">â›¶ Ù…Ù„Ø¡ Ø§Ù„Ø´Ø§Ø´Ø©</button>
        <button onclick="clearEditor()">ğŸ—‘ Ù…Ø³Ø­</button>
        
        <select id="language" onchange="changeLanguage()">
            <option value="javascript">JavaScript</option>
            <option value="python">Python</option>
            <option value="htmlmixed">HTML/CSS</option>
            <option value="clike">C/C++</option>
            <option value="java">Java</option>
            <option value="php">PHP</option>
        </select>
    </div>

    <textarea id="editor"></textarea>

    <h3>ğŸ”¹ Ø§Ù„Ù…Ø®Ø±Ø¬Ø§Øª:</h3>
    <pre class="output-box" id="output"></pre>

    <script>
        let editor = CodeMirror.fromTextArea(document.getElementById("editor"), {
            mode: "javascript",
            theme: "default",
            lineNumbers: true,
            autoCloseBrackets: true,
            fontSize: "20px"
        });

        function changeLanguage() {
            let lang = document.getElementById("language").value;
            let mode = {
                "javascript": "javascript",
                "python": "python",
                "htmlmixed": "htmlmixed",
                "clike": "text/x-c++src",
                "java": "text/x-java",
                "php": "application/x-httpd-php"
            }[lang];
            editor.setOption("mode", mode);
        }

        function runCode() {
            let code = editor.getValue();
            let lang = document.getElementById("language").value;
            let outputBox = document.getElementById("output");

            if (lang === "javascript") {
                try {
                    let result = eval(code);
                    outputBox.innerText = result;
                } catch (e) {
                    outputBox.innerText = "âš  Ø®Ø·Ø£: " + e.message;
                }
            } else {
                alert("âœ… Ø³ÙŠØªÙ… ØªÙ†ÙÙŠØ° Ø§Ù„ÙƒÙˆØ¯ Ø£ÙˆÙ†Ù„Ø§ÙŠÙ† Ù„Ø§Ø­Ù‚Ù‹Ø§.");
            }

            outputBox.classList.add("show");
            setTimeout(() => outputBox.classList.remove("show"), 300);
        }

        function saveFile() {
            let code = editor.getValue();
            let lang = document.getElementById("language").value;
            let extension = {
                "javascript": ".js",
                "python": ".py",
                "htmlmixed": ".html",
                "clike": ".cpp",
                "java": ".java",
                "php": ".php"
            }[lang];

            let fileName = prompt("ğŸ“‚ Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ù„Ù (Ø¨Ø¯ÙˆÙ† Ø§Ù„Ø§Ù…ØªØ¯Ø§Ø¯):");
            if (!fileName) return;

            let blob = new Blob([code], { type: "text/plain" });
            let link = document.createElement("a");
            link.href = URL.createObjectURL(blob);
            link.download = fileName + extension;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        function newFile() {
            let confirmNew = confirm("âš  Ù‡Ù„ ØªØ±ÙŠØ¯ Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ù Ø¬Ø¯ÙŠØ¯ØŸ Ø³ÙŠØªÙ… Ù…Ø³Ø­ ÙƒÙ„ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ø­Ø§Ù„ÙŠØ©.");
            if (confirmNew) {
                editor.setValue("");
                alert("ğŸ“„ ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ù Ø¬Ø¯ÙŠØ¯!");
            }
        }

        function toggleFullScreen() {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen();
            } else {
                document.exitFullscreen();
            }
        }

        function clearEditor() {
            editor.setValue("");
            document.getElementById("output").innerText = "";
        }

        window.onload = function() {
            document.body.classList.add("loaded");
        };
    </script>

</body>
</html>
